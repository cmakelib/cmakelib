CMAKE_MINIMUM_REQUIRED(VERSION 3.16)
PROJECT(BIMCM_CACHE_TEST)

LIST(APPEND CMAKE_MODULE_PATH "${CMAKE_CURRENT_LIST_DIR}/../")
FIND_PACKAGE(BIMCM)

INCLUDE("${CMAKE_CURRENT_LIST_DIR}/TEST.cmake")




FUNCTION(RUN_TEST test)
	EXECUTE_PROCESS(
		COMMAND "${CMAKE_COMMAND}" .
		WORKING_DIRECTORY "${CMAKE_CURRENT_LIST_DIR}/${test}"
	)
ENDFUNCTION()



RUN_TEST(ARCHIVE)
RUN_TEST(CACHE)
RUN_TEST(FILE_DOWNLOAD)
RUN_TEST(PARSE_ARGUMENTS)
RUN_TEST(REQUIRED_ENV)
RUN_TEST(DEPENDENCY)
RUN_TEST(STORAGE)

